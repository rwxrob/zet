# Separate high-level functions from commands

I have been burned so much by giving into the lazy practice of mixing a command with the high-level, importable functions that I want to make available to those building their own software. An example of this would be having both a `pkg` and `cmd` directory in the same project (or equivalent). Almost always any such project should be split in two with one repo/module with the `pkg` stuff (`package foo`) and another one with a `cmd` directory containing one or more commands that use other things (`package main`) that import stuff from the other repo containing all the business logic. This allows anything to build dependencies to the business logic package (`package foo`) without ever pulling in all the crap from the `cmd` directory.

NEVER put more than one Go module into a single repo EVER!

You see other projects suffer from this all the time. Hell, the GitHub CLI tool `gh` has completely doubled down on the Cobra framework and made "Factories" to generate all the commands and subcommands that reside right next to the actual "business logic" that does the work. This is an extremely short-sighted approach. Command-line frameworks come and go as fast as web frameworks in the webdev universe. Corrupting all your business logic with a specific one is almost as bad as hard-coding a dependency on an API middleware. It's just only something someone with absolutely no long-term development experience ever does. But even we veterans get sucked into it on occasion, usually out of laziness (which is also what brought us the "mono repo" anti-pattern, thank God I was never gave in to that).
